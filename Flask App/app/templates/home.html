{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block body %}
<script type="text/javascript">
	d3.selectAll(".nav-item").classed("active", false);
	d3.select("#nav-link-home").classed("active", true);
</script>
<!-- Load CSS Files -->
<link href="../static/css/tooltip.css" rel="stylesheet" type="text/css">
<link href="../static/css/slider.css" rel="stylesheet" type="text/css">
<link href="../static/css/treemap.css" rel="stylesheet" type="text/css">
<!-- Load JavaScript Files -->
<script src="//d3js.org/d3.v4.min.js"></script>
<script type="text/javascript" src="../static/js/tooltip.js"></script>
<script type="text/javascript" src="../static/js/treemap.js"></script>
<script type="text/javascript" src="../static/js/world.js"></script>
<script type="text/javascript" src="../static/js/Stacked_zoom_chart.js"></script>

<!-- Begin page content -->
<H2 class="col-sm-12">Voting history of the Netherlands</H2>

<div id="treemap_container">
    <H3 class=mt-3">Test Treemap:</H3>
    <div class="col-lg-12 slider_container">
        <input id="yearRange" class="slider" type="range" min="0" max="27" step="1" value="27" data-show-value="true">
    </div>
    <p id="yearValue" class="col-lg-12 text-center">2017</p>

    <div class="col-lg-12" id="treemap"></div>
    <div class="col-lg-12" id="map"></div>
</div>

<div id="map_netherlands"></div>

<div id="Stacked_zoom_chart"></div>

<!-- End page content -->




<script type="text/javascript">
	///////////// SCRIPT /////////////
	var yearArray = [1918, 1922, 1925, 1929, 1933, 1937, 1946, 1948, 1952, 1956, 1959, 1963, 1967, 1971, 1972, 1977, 1981, 1982, 1986, 1989, 1994, 1998, 2002, 2003, 2006, 2010, 2012, 2017];
	var slider = document.getElementById("yearRange");
    var output = document.getElementById("yearValue");
    output.innerHTML = yearArray[slider.value]; // Display the default slider value

    // Update the current slider value (each time you drag the slider handle)
    slider.oninput = function() {
      output.innerHTML = yearArray[this.value];
    }

	//const data = FileAttachment("static/test_set.json").json()
	//console.log("Data loaded:");
	//console.log(data);

	var container_id = "#treemap";
	const margin = {top: 40, right: 10, bottom: 10, left: 10},
          width = 960 - margin.left - margin.right,
          height = 500 - margin.top - margin.bottom;

    createTreemap();
    createNLMap();
    createStackedchart();
</script>

{% endblock %}